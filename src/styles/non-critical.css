/* ABTA Non-Critical CSS - Below the Fold */
/* 初期描画後に読み込まれるスタイル */

/* CSS Variables - 追加色定義 */
:root {
	--primary-dark: oklch(25% 0.22 var(--primary-hue));
	--primary-light: oklch(65% 0.20 var(--primary-hue));
	--box-shadow:
		0 2px 6px oklch(12% 0.02 var(--primary-hue) / 0.15), 0 8px 24px oklch(12% 0.02 var(--primary-hue) / 0.25),
		0 16px 32px oklch(12% 0.02 var(--primary-hue) / 0.25);
}

/* Additional Base Styles */
body {
	padding: 0;
	text-align: left;
	word-wrap: break-word;
	overflow-wrap: break-word;
	font-size: clamp(16px, 2.5vw, 18px);
	min-width: 0;
}

main {
	width: 100%;
	padding: 2rem 0;
}

/* Typography - Extended */
h1, h2, h3, h4, h5, h6 {
	margin: 0 0 0.5rem 0;
	color: var(--primary-foreground);
	line-height: 1.2;
}

h1 { font-size: 2em; }
h2 { font-size: 1.8em; }

a:hover { color: var(--primary); }

/* SR-Only Enhancement */
.sr-only {
	border: 0;
	padding: 0;
	margin: 0;
	position: absolute !important;
	height: 1px;
	width: 1px;
	overflow: hidden;
	clip: rect(1px 1px 1px 1px);
	clip: rect(1px, 1px, 1px, 1px);
	clip-path: inset(50%);
	white-space: nowrap;
}

@font-face {
	font-family: 'Atkinson';
	src: url('/fonts/atkinson-regular.woff') format('woff');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}
@font-face {
	font-family: 'Atkinson';
	src: url('/fonts/atkinson-bold.woff') format('woff');
	font-weight: 700;
	font-style: normal;
	font-display: swap;
}

/* Extended Typography */
h3 {
	font-size: 1.6em;
}
h4 {
	font-size: 1.4em;
}
h5 {
	font-size: 1.3em;
}
h6 {
	font-size: 1.2em;
}

strong, b {
	font-weight: 700;
	color: var(--primary);
}

em, i {
	font-style: normal;
	text-decoration: underline;
	text-decoration-color: var(--primary);
	text-underline-offset: 0.2em;
}

p {
	margin-bottom: 1em;
}

.prose p {
	margin-bottom: 2em;
}

textarea {
	width: 100%;
	font-size: 16px;
}

input {
	font-size: 16px;
}

table {
	width: 100%;
}

img {
	max-width: 100%;
	height: auto;
	border-radius: 8px;
}

code {
	padding: 0.2em 0.4em;
	background-color: var(--primary-dark);
	border: 1px solid oklch(20% 0.15 262);
	border-radius: 4px;
	font-family: 'Courier New', Consolas, 'Liberation Mono', Menlo, monospace;
	font-size: 0.85em;
	color: var(--primary-background);
}

pre {
	padding: 1.5em;
	border-radius: 8px;
	font-size: 0.9em;
}

pre > code {
	all: unset;
}

blockquote {
	border-left: 4px solid var(--primary);
	padding: 0 0 0 20px;
	margin: 0px;
	font-size: 0.95em;
	line-height: 1.6;
}

hr {
	border: none;
	border-top: 1px solid var(--primary-background);
}

/* Layout Components */
main.content-page {
	width: 720px;
	max-width: calc(100% - 2em);
	margin: auto;
	padding: 3em 1em;
}

.container {
	max-width: 1200px;
	margin: 0 auto;
	padding: 0 1rem;
}

/* Page Header Component */
.page-header {
	text-align: center;
	margin-bottom: 3rem;
}

.page-header h1 {
	color: var(--primary-foreground);
	font-size: 2rem;
	margin: 0 0 1rem 0;
}

.page-header .page-description {
	color: var(--primary-foreground);
	font-size: 1rem;
	line-height: 1.6;
}

/* Prose Styling */
.prose {
	color: var(--primary-foreground);
	max-width: 720px;
	margin: 0 auto;
}
.prose h2 {
	font-size: 1.8em;
	margin-top: 2em;
	margin-bottom: 0.8em;
	font-weight: 700;
}
.prose h3 {
	font-size: 1.4em;
	margin-top: 1.5em;
	margin-bottom: 0.6em;
	font-weight: 600;
}
.prose h4 {
	font-size: 1.2em;
	margin-top: 1.2em;
	margin-bottom: 0.5em;
	font-weight: 600;
}
.prose li {
	line-height: 1.7;
}
.prose ul {
	padding-left: 1.5em;
}
.prose a {
	color: var(--primary);
	text-decoration: underline;
	text-underline-offset: 0.2em;
}
.prose a:hover {
	color: var(--primary-dark);
}

/* Card Components */
.card {
	background: var(--primary-background);
	border-radius: 16px;
	box-shadow: var(--box-shadow);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	overflow: hidden;
}

.card:hover {
	transform: translateY(-8px);
	box-shadow: var(--box-shadow);
}

/* Navigation Cards Grid */
.nav-cards {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
	gap: 2rem;
	margin-top: 3rem;
}

.nav-card {
	background: var(--primary-background);
	border-radius: 16px;
	box-shadow: var(--box-shadow);
	padding: 2rem;
	text-decoration: none;
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	display: flex;
	flex-direction: column;
	align-items: center;
	text-align: center;
}

.nav-card:hover {
	transform: translateY(-8px);
	box-shadow: var(--box-shadow);
}

.nav-card-icon {
	width: 3rem;
	height: 3rem;
	margin-bottom: 1rem;
	color: var(--primary);
	flex-shrink: 0;
}

.nav-card-title {
	font-size: 1.25rem;
	font-weight: 600;
	color: var(--primary-foreground);
	margin-bottom: 0.5rem;
}

.nav-card-description {
	color: var(--primary-foreground);
	font-size: 0.9rem;
	line-height: 1.5;
}

/* Tag Cards Grid */
.tags-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
	gap: 2rem;
	list-style-type: none;
	margin: 0;
	padding: 0;
}

.tag-card {
	background: var(--primary-background);
	border-radius: 16px;
	box-shadow: var(--box-shadow);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	overflow: hidden;
	position: relative;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	text-decoration: none;
	padding: 2rem 1.5rem;
	min-height: 100px;
}

.tag-card:hover {
	transform: translateY(-8px);
	box-shadow: var(--box-shadow);
}

.tag-name {
	font-size: 1.25rem;
	font-weight: 600;
	margin-bottom: 0.5rem;
	color: var(--primary-foreground);
}

.tag-count {
	color: var(--primary);
	font-size: 1rem;
	font-weight: 500;
}

/* Features Component */
.features {
	background: var(--primary-background);
	box-shadow: var(--box-shadow);
	border-radius: 12px;
	padding: 2rem;
	margin-bottom: 3rem;
}

.features h2 {
	text-align: center;
	color: var(--primary-foreground);
	margin-bottom: 1.5rem;
}

.features ul {
	list-style: none;
	padding: 0;
	margin: 0;
	display: grid;
	gap: 1rem;
}

.features li {
	position: relative;
	padding-left: 2rem;
	color: var(--primary-foreground);
	line-height: 1.6;
}

.features li::before {
	content: "✓";
	position: absolute;
	left: 0;
	color: var(--primary);
	font-weight: bold;
}

/* Utilities */
.text-primary {
	color: var(--primary) !important;
}

.text-primary-foreground {
	color: var(--primary-foreground) !important;
}

.text-primary-dark {
	color: var(--primary-dark) !important;
}

.bg-primary-background {
	background-color: var(--primary-background) !important;
}

.text-left {
	text-align: left;
}

.text-right {
	text-align: right;
}

/* Border Radius Utilities */
.rounded-sm { border-radius: 4px; }
.rounded { border-radius: 8px; }
.rounded-lg { border-radius: 12px; }
.rounded-xl { border-radius: 16px; }
.rounded-full { border-radius: 9999px; }

/* Shadow Utilities */
.shadow {
	box-shadow: var(--box-shadow);
}

.shadow-none {
	box-shadow: none;
}

/* Flexbox Utilities */
.flex {
	display: flex;
}

.flex-col {
	flex-direction: column;
}

.flex-row {
	flex-direction: row;
}

.items-center {
	align-items: center;
}

.items-start {
	align-items: flex-start;
}

.items-end {
	align-items: flex-end;
}

.justify-center {
	justify-content: center;
}

.justify-between {
	justify-content: space-between;
}

.justify-start {
	justify-content: flex-start;
}

.justify-end {
	justify-content: flex-end;
}

.flex-wrap {
	flex-wrap: wrap;
}

.flex-1 {
	flex: 1 1 0%;
}

/* Gap Utilities */
.gap-1 { gap: 0.5rem; }
.gap-2 { gap: 1rem; }
.gap-3 { gap: 1.5rem; }
.gap-4 { gap: 2rem; }

/* Width & Height Utilities */
.w-full {
	width: 100%;
}

.h-full {
	height: 100%;
}

.min-h-screen {
	min-height: 100vh;
}

/* Positioning Utilities */
.relative {
	position: relative;
}

.absolute {
	position: absolute;
}

.fixed {
	position: fixed;
}

/* Overflow Utilities */
.overflow-hidden {
	overflow: hidden;
}

.overflow-x-hidden {
	overflow-x: hidden;
}

/* Transform Utilities */
.transform {
	transform: translateZ(0);
}

/* Transition Utilities */
.transition {
	transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
	transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
	transition-duration: 150ms;
}

.transition-all {
	transition-property: all;
	transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
	transition-duration: 300ms;
}

/* Hover Effects */
.hover-lift:hover {
	transform: translateY(-8px);
}

/* Focus States */
.focus-outline:focus {
	outline: 2px solid var(--primary);
	outline-offset: 2px;
}

/* Interactive Elements */
.cursor-pointer {
	cursor: pointer;
}

.pointer-events-none {
	pointer-events: none;
}

/* Typography Utilities */
.font-bold {
	font-weight: 700;
}

.font-semibold {
	font-weight: 600;
}

.font-medium {
	font-weight: 500;
}

.font-normal {
	font-weight: 400;
}

.text-sm {
	font-size: 0.875rem;
	line-height: 1.25rem;
}

.text-base {
	font-size: 1rem;
	line-height: 1.5rem;
}

.text-lg {
	font-size: 1.125rem;
	line-height: 1.75rem;
}

.text-xl {
	font-size: 1.25rem;
	line-height: 1.75rem;
}

.text-2xl {
	font-size: 1.5rem;
	line-height: 2rem;
}

.text-3xl {
	font-size: 1.875rem;
	line-height: 2.25rem;
}

.leading-none {
	line-height: 1;
}

.leading-tight {
	line-height: 1.25;
}

.leading-normal {
	line-height: 1.5;
}

.leading-relaxed {
	line-height: 1.625;
}

.leading-loose {
	line-height: 2;
}

/* List Utilities */
.list-none {
	list-style-type: none;
}

/* Padding Utilities */
.p-0 { padding: 0; }
.p-1 { padding: 0.5rem; }
.p-2 { padding: 1rem; }
.p-3 { padding: 1.5rem; }
.p-4 { padding: 2rem; }

.px-1 { padding-left: 0.5rem; padding-right: 0.5rem; }
.px-2 { padding-left: 1rem; padding-right: 1rem; }
.px-3 { padding-left: 1.5rem; padding-right: 1.5rem; }
.px-4 { padding-left: 2rem; padding-right: 2rem; }

.py-1 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
.py-2 { padding-top: 1rem; padding-bottom: 1rem; }
.py-3 { padding-top: 1.5rem; padding-bottom: 1.5rem; }
.py-4 { padding-top: 2rem; padding-bottom: 2rem; }

/* Margin Utilities */
.m-0 { margin: 0; }
.m-1 { margin: 0.5rem; }
.m-2 { margin: 1rem; }
.m-3 { margin: 1.5rem; }
.m-4 { margin: 2rem; }
.m-auto { margin: auto; }

.mx-auto { margin-left: auto; margin-right: auto; }

.mt-0 { margin-top: 0; }
.mt-1 { margin-top: 0.5rem; }
.mt-2 { margin-top: 1rem; }
.mt-3 { margin-top: 1.5rem; }
.mt-4 { margin-top: 2rem; }

.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: 0.5rem; }
.mb-2 { margin-bottom: 1rem; }
.mb-3 { margin-bottom: 1.5rem; }
.mb-4 { margin-bottom: 2rem; }

/* Section Layouts */
.section {
	margin-bottom: 2rem;
}

.section:last-child {
	margin-bottom: 0;
}

/* Spacing Utilities */
.margin-top-1 { margin-top: 1rem; }
.margin-top-2 { margin-top: 2rem; }
.margin-top-3 { margin-top: 3rem; }
.margin-bottom-1 { margin-bottom: 1rem; }
.margin-bottom-2 { margin-bottom: 2rem; }
.margin-bottom-3 { margin-bottom: 3rem; }

/* Full-width Sections */
.section-full {
	width: 100vw;
	position: relative;
	left: 50%;
	right: 50%;
	margin-left: -50vw;
	margin-right: -50vw;
}

/* Lightbox Component */
.lightbox {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: 9999;
	display: none;
	align-items: center;
	justify-content: center;
}

.lightbox.active {
	display: flex;
}

.lightbox-overlay {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: rgba(0, 0, 0, 0.9);
	opacity: 0;
	transition: opacity 0.3s ease;
}

.lightbox.active .lightbox-overlay {
	opacity: 1;
}

.lightbox-content {
	position: relative;
	max-width: 90vw;
	max-height: 90vh;
	display: flex;
	flex-direction: column;
	align-items: center;
	opacity: 0;
	transform: scale(0.9);
	transition: all 0.3s ease;
}

.lightbox.active .lightbox-content {
	opacity: 1;
	transform: scale(1);
}

.lightbox-image {
	max-width: 100%;
	max-height: 85vh;
	object-fit: contain;
	border-radius: 8px;
	box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
	cursor: zoom-out;
}

.lightbox-caption {
	margin-top: 1rem;
	color: #fff;
	text-align: center;
	font-size: 0.9rem;
	max-width: 80%;
}

.lightbox-close {
	position: absolute;
	top: 1rem;
	right: 1rem;
	width: 2.5rem;
	height: 2.5rem;
	background: rgba(255, 255, 255, 0.1);
	border: 2px solid rgba(255, 255, 255, 0.3);
	border-radius: 50%;
	color: #fff;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: all 0.2s ease;
	backdrop-filter: blur(10px);
}

.lightbox-close:hover {
	background: rgba(255, 255, 255, 0.2);
	border-color: rgba(255, 255, 255, 0.5);
	transform: scale(1.1);
}

.lightbox-close:focus {
	outline: 2px solid #fff;
	outline-offset: 2px;
}

/* Mobile Responsive Adjustments */
@media (max-width: 720px) {
	main {
		padding: 1em;
	}
	h1, h2, h3 {
		line-height: 1.3;
	}
}

@media (max-width: 767px) {
	main.content-page {
		padding: 1em;
	}

	.prose {
		font-size: 16px;
		padding: 0 1rem;
	}
	.prose h2 {
		font-size: 1.5em;
		margin-top: 1.5em;
	}
	.prose h3 {
		font-size: 1.2em;
		margin-top: 1.2em;
	}

	.page-header h1 {
		font-size: 2rem;
	}

	.nav-cards {
		grid-template-columns: 1fr;
		gap: 1.5rem;
		margin-top: 2rem;
	}

	.nav-card {
		padding: 1.5rem;
	}

	.tags-grid {
		grid-template-columns: 1fr;
		gap: 1.5rem;
	}

	.tag-card {
		padding: 1.5rem 1rem;
		min-height: 80px;
	}

	.tag-name {
		font-size: 1.1rem;
	}

	.features {
		padding: 1.5rem;
		margin-bottom: 2rem;
	}

	.lightbox-content {
		max-width: 95vw;
		max-height: 95vh;
	}
	
	.lightbox-image {
		max-height: 80vh;
	}
	
	.lightbox-close {
		top: 0.5rem;
		right: 0.5rem;
		width: 2rem;
		height: 2rem;
	}
	
	.lightbox-caption {
		font-size: 0.8rem;
		margin-top: 0.5rem;
	}
}

@media (max-width: 480px) {
	.features {
		padding: 1rem;
	}

	.features h2 {
		font-size: 1.25rem;
	}

	.features li {
		font-size: 0.9rem;
		padding-left: 1.5rem;
	}

	.nav-card {
		padding: 1.25rem;
	}

	.nav-card-icon {
		width: 2.5rem;
		height: 2.5rem;
	}

	.nav-card-title {
		font-size: 1.1rem;
	}

	.nav-card-description {
		font-size: 0.85rem;
	}
}